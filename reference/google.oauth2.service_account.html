
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>google.oauth2.service_account module &#8212; google-auth 1.30.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="google.oauth2.service_account_async module" href="google.oauth2._service_account_async.html" />
    <link rel="prev" title="google.oauth2.id_token module" href="google.oauth2.id_token.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-google.oauth2.service_account">
<span id="google-oauth2-service-account-module"></span><h1>google.oauth2.service_account module<a class="headerlink" href="#module-google.oauth2.service_account" title="Permalink to this headline">¶</a></h1>
<p>Service Accounts: JSON Web Token (JWT) Profile for OAuth 2.0</p>
<p>This module implements the JWT Profile for OAuth 2.0 Authorization Grants
as defined by <a class="reference external" href="https://tools.ietf.org/html/rfc7523">RFC 7523</a> with particular support for how this RFC is
implemented in Google’s infrastructure. Google refers to these credentials
as <em>Service Accounts</em>.</p>
<p>Service accounts are used for server-to-server communication, such as
interactions between a web application server and a Google service. The
service account belongs to your application instead of to an individual end
user. In contrast to other OAuth 2.0 profiles, no users are involved and your
application “acts” as the service account.</p>
<p>Typically an application uses a service account when the application uses
Google APIs to work with its own data rather than a user’s data. For example,
an application that uses Google Cloud Datastore for data persistence would use
a service account to authenticate its calls to the Google Cloud Datastore API.
However, an application that needs to access a user’s Drive documents would
use the normal OAuth 2.0 profile.</p>
<p>Additionally, Google Apps domain administrators can grant service accounts
<a class="reference internal" href="#domain-wide-delegation">domain-wide delegation</a> authority to access user data on behalf of users in
the domain.</p>
<p>This profile uses a JWT to acquire an OAuth 2.0 access token. The JWT is used
in place of the usual authorization token returned during the standard
OAuth 2.0 Authorization Code grant. The JWT is only used for this purpose, as
the acquired access token is used as the bearer token when making requests
using these credentials.</p>
<p>This profile differs from normal OAuth 2.0 profile because no user consent
step is required. The use of the private key allows this profile to assert
identity directly.</p>
<p>This profile also differs from the <a class="reference internal" href="google.auth.jwt.html#module-google.auth.jwt" title="google.auth.jwt"><code class="xref py py-mod docutils literal notranslate"><span class="pre">google.auth.jwt</span></code></a> authentication
because the JWT credentials use the JWT directly as the bearer token. This
profile instead only uses the JWT to obtain an OAuth 2.0 access token. The
obtained OAuth 2.0 access token is used as the bearer token.</p>
<section id="domain-wide-delegation">
<h2>Domain-wide delegation<a class="headerlink" href="#domain-wide-delegation" title="Permalink to this headline">¶</a></h2>
<p>Domain-wide delegation allows a service account to access user data on
behalf of any user in a Google Apps domain without consent from the user.
For example, an application that uses the Google Calendar API to add events to
the calendars of all users in a Google Apps domain would use a service account
to access the Google Calendar API on behalf of users.</p>
<p>The Google Apps administrator must explicitly authorize the service account to
do this. This authorization step is referred to as “delegating domain-wide
authority” to a service account.</p>
<p>You can use domain-wise delegation by creating a set of credentials with a
specific subject using <a class="reference internal" href="#google.oauth2.service_account.Credentials.with_subject" title="google.oauth2.service_account.Credentials.with_subject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">with_subject()</span></code></a>.</p>
<dl class="class">
<dt id="google.oauth2.service_account.Credentials">
<em class="property">class </em><code class="sig-name descname">Credentials</code><span class="sig-paren">(</span><em class="sig-param">signer</em>, <em class="sig-param">service_account_email</em>, <em class="sig-param">token_uri</em>, <em class="sig-param">scopes=None</em>, <em class="sig-param">default_scopes=None</em>, <em class="sig-param">subject=None</em>, <em class="sig-param">project_id=None</em>, <em class="sig-param">quota_project_id=None</em>, <em class="sig-param">additional_claims=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#Credentials"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.Credentials" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="google.auth.credentials.html#google.auth.credentials.Signing" title="google.auth.credentials.Signing"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.auth.credentials.Signing</span></code></a>, <a class="reference internal" href="google.auth.credentials.html#google.auth.credentials.Scoped" title="google.auth.credentials.Scoped"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.auth.credentials.Scoped</span></code></a>, <a class="reference internal" href="google.auth.credentials.html#google.auth.credentials.CredentialsWithQuotaProject" title="google.auth.credentials.CredentialsWithQuotaProject"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.auth.credentials.CredentialsWithQuotaProject</span></code></a></p>
<p>Service account credentials</p>
<p>Usually, you’ll create these credentials with one of the helper
constructors. To create credentials using a Google service account
private key JSON file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">credentials</span> <span class="o">=</span> <span class="n">service_account</span><span class="o">.</span><span class="n">Credentials</span><span class="o">.</span><span class="n">from_service_account_file</span><span class="p">(</span>
    <span class="s1">&#39;service-account.json&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or if you already have the service account file loaded:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">service_account_info</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;service_account.json&#39;</span><span class="p">))</span>
<span class="n">credentials</span> <span class="o">=</span> <span class="n">service_account</span><span class="o">.</span><span class="n">Credentials</span><span class="o">.</span><span class="n">from_service_account_info</span><span class="p">(</span>
    <span class="n">service_account_info</span><span class="p">)</span>
</pre></div>
</div>
<p>Both helper methods pass on arguments to the constructor, so you can
specify additional scopes and a subject if necessary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">credentials</span> <span class="o">=</span> <span class="n">service_account</span><span class="o">.</span><span class="n">Credentials</span><span class="o">.</span><span class="n">from_service_account_file</span><span class="p">(</span>
    <span class="s1">&#39;service-account.json&#39;</span><span class="p">,</span>
    <span class="n">scopes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">],</span>
    <span class="n">subject</span><span class="o">=</span><span class="s1">&#39;user@example.com&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The credentials are considered immutable. If you want to modify the scopes
or the subject used for delegation, use <a class="reference internal" href="#google.oauth2.service_account.Credentials.with_scopes" title="google.oauth2.service_account.Credentials.with_scopes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">with_scopes()</span></code></a> or
<a class="reference internal" href="#google.oauth2.service_account.Credentials.with_subject" title="google.oauth2.service_account.Credentials.with_subject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">with_subject()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scoped_credentials</span> <span class="o">=</span> <span class="n">credentials</span><span class="o">.</span><span class="n">with_scopes</span><span class="p">([</span><span class="s1">&#39;email&#39;</span><span class="p">])</span>
<span class="n">delegated_credentials</span> <span class="o">=</span> <span class="n">credentials</span><span class="o">.</span><span class="n">with_subject</span><span class="p">(</span><span class="n">subject</span><span class="p">)</span>
</pre></div>
</div>
<p>To add a quota project, use <a class="reference internal" href="#google.oauth2.service_account.Credentials.with_quota_project" title="google.oauth2.service_account.Credentials.with_quota_project"><code class="xref py py-meth docutils literal notranslate"><span class="pre">with_quota_project()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">credentials</span> <span class="o">=</span> <span class="n">credentials</span><span class="o">.</span><span class="n">with_quota_project</span><span class="p">(</span><span class="s1">&#39;myproject-123&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signer</strong> (<a class="reference internal" href="google.auth.crypt.html#google.auth.crypt.Signer" title="google.auth.crypt.Signer"><em>google.auth.crypt.Signer</em></a>) – The signer used to sign JWTs.</p></li>
<li><p><strong>service_account_email</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The service account’s email.</p></li>
<li><p><strong>scopes</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Sequence" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Sequence</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]) – User-defined scopes to request during the
authorization grant.</p></li>
<li><p><strong>default_scopes</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Sequence" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Sequence</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]) – Default scopes passed by a
Google client library. Use ‘scopes’ for user-defined scopes.</p></li>
<li><p><strong>token_uri</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The OAuth 2.0 Token URI.</p></li>
<li><p><strong>subject</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – For domain-wide delegation, the email address of the
user to for which to request delegated access.</p></li>
<li><p><strong>project_id</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – Project ID associated with the service account
credential.</p></li>
<li><p><strong>quota_project_id</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Optional" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]) – The project ID used for quota and
billing.</p></li>
<li><p><strong>additional_claims</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Mapping" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Mapping</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]) – <a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Any" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Any</span></code></a> additional claims for
the JWT assertion used in the authorization grant.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Typically one of the helper constructors
<a class="reference internal" href="#google.oauth2.service_account.Credentials.from_service_account_file" title="google.oauth2.service_account.Credentials.from_service_account_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_service_account_file()</span></code></a> or
<a class="reference internal" href="#google.oauth2.service_account.Credentials.from_service_account_info" title="google.oauth2.service_account.Credentials.from_service_account_info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_service_account_info()</span></code></a> are used instead of calling the
constructor directly.</p>
</div>
<dl class="method">
<dt id="google.oauth2.service_account.Credentials.from_service_account_info">
<em class="property">classmethod </em><code class="sig-name descname">from_service_account_info</code><span class="sig-paren">(</span><em class="sig-param">info</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#Credentials.from_service_account_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.Credentials.from_service_account_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Credentials instance from parsed service account info.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>info</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Mapping" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Mapping</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]) – The service account info in Google
format.</p></li>
<li><p><strong>kwargs</strong> – Additional arguments to pass to the constructor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>The constructed</dt><dd><p>credentials.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>google.auth.service_account.Credentials</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/exceptions.html#ValueError" title="(in Python v3.5)"><strong>ValueError</strong></a> – If the info is not in the expected format.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.from_service_account_file">
<em class="property">classmethod </em><code class="sig-name descname">from_service_account_file</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#Credentials.from_service_account_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.Credentials.from_service_account_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Credentials instance from a service account json file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The path to the service account json file.</p></li>
<li><p><strong>kwargs</strong> – Additional arguments to pass to the constructor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>The constructed</dt><dd><p>credentials.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>google.auth.service_account.Credentials</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.service_account_email">
<em class="property">property </em><code class="sig-name descname">service_account_email</code><a class="headerlink" href="#google.oauth2.service_account.Credentials.service_account_email" title="Permalink to this definition">¶</a></dt>
<dd><p>The service account email.</p>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.project_id">
<em class="property">property </em><code class="sig-name descname">project_id</code><a class="headerlink" href="#google.oauth2.service_account.Credentials.project_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Project ID associated with this credential.</p>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.requires_scopes">
<em class="property">property </em><code class="sig-name descname">requires_scopes</code><a class="headerlink" href="#google.oauth2.service_account.Credentials.requires_scopes" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the credentials requires scopes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if there are no scopes set otherwise False.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.with_scopes">
<code class="sig-name descname">with_scopes</code><span class="sig-paren">(</span><em class="sig-param">scopes</em>, <em class="sig-param">default_scopes=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#Credentials.with_scopes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.Credentials.with_scopes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a copy of these credentials with the specified scopes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>scopes</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Sequence" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Sequence</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]) – The list of scopes to attach to the
current credentials.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/exceptions.html#NotImplementedError" title="(in Python v3.5)"><strong>NotImplementedError</strong></a> – If the credentials’ scopes can not be changed.
    This can be avoided by checking <a class="reference internal" href="#google.oauth2.service_account.Credentials.requires_scopes" title="google.oauth2.service_account.Credentials.requires_scopes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">requires_scopes</span></code></a> before
    calling this method.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.with_subject">
<code class="sig-name descname">with_subject</code><span class="sig-paren">(</span><em class="sig-param">subject</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#Credentials.with_subject"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.Credentials.with_subject" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a copy of these credentials with the specified subject.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>subject</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The subject claim.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A new credentials</dt><dd><p>instance.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>google.auth.service_account.Credentials</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.with_claims">
<code class="sig-name descname">with_claims</code><span class="sig-paren">(</span><em class="sig-param">additional_claims</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#Credentials.with_claims"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.Credentials.with_claims" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of these credentials with modified claims.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>additional_claims</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Mapping" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Mapping</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]) – <a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Any" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Any</span></code></a> additional claims for
the JWT payload. This will be merged with the current
additional claims.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A new credentials</dt><dd><p>instance.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>google.auth.service_account.Credentials</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.with_quota_project">
<code class="sig-name descname">with_quota_project</code><span class="sig-paren">(</span><em class="sig-param">quota_project_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#Credentials.with_quota_project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.Credentials.with_quota_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of these credentials with a modified quota project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>quota_project_id</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The project to use for quota and
billing purposes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new credentials instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="google.oauth2.credentials.html#google.oauth2.credentials.Credentials" title="google.oauth2.credentials.Credentials">google.oauth2.credentials.Credentials</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.refresh">
<code class="sig-name descname">refresh</code><span class="sig-paren">(</span><em class="sig-param">request</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#Credentials.refresh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.Credentials.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Refreshes the access token.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>request</strong> (<a class="reference internal" href="google.auth.transport.html#google.auth.transport.Request" title="google.auth.transport.Request"><em>google.auth.transport.Request</em></a>) – The object used to make
HTTP requests.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="google.auth.exceptions.html#google.auth.exceptions.RefreshError" title="google.auth.exceptions.RefreshError"><strong>google.auth.exceptions.RefreshError</strong></a> – If the credentials could
    not be refreshed.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.sign_bytes">
<code class="sig-name descname">sign_bytes</code><span class="sig-paren">(</span><em class="sig-param">message</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#Credentials.sign_bytes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.Credentials.sign_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Signs the given message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bytes" title="(in Python v3.5)"><em>bytes</em></a>) – The message to sign.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The message’s cryptographic signature.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bytes" title="(in Python v3.5)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.signer">
<em class="property">property </em><code class="sig-name descname">signer</code><a class="headerlink" href="#google.oauth2.service_account.Credentials.signer" title="Permalink to this definition">¶</a></dt>
<dd><p>The signer used to sign bytes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="google.auth.crypt.html#google.auth.crypt.Signer" title="google.auth.crypt.Signer">google.auth.crypt.Signer</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.signer_email">
<em class="property">property </em><code class="sig-name descname">signer_email</code><a class="headerlink" href="#google.oauth2.service_account.Credentials.signer_email" title="Permalink to this definition">¶</a></dt>
<dd><p>An email address that identifies the signer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Optional" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param">headers</em>, <em class="sig-param">token=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/auth/credentials.html#Credentials.apply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.Credentials.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the token to the authentication header.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>headers</strong> (<em>Mapping</em>) – The HTTP request headers.</p></li>
<li><p><strong>token</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Optional" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]) – If specified, overrides the current access
token.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.before_request">
<code class="sig-name descname">before_request</code><span class="sig-paren">(</span><em class="sig-param">request</em>, <em class="sig-param">method</em>, <em class="sig-param">url</em>, <em class="sig-param">headers</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/auth/credentials.html#Credentials.before_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.Credentials.before_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs credential-specific before request logic.</p>
<p>Refreshes the credentials if necessary, then calls <a class="reference internal" href="#google.oauth2.service_account.Credentials.apply" title="google.oauth2.service_account.Credentials.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> to
apply the token to the authentication header.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>request</strong> (<a class="reference internal" href="google.auth.transport.html#google.auth.transport.Request" title="google.auth.transport.Request"><em>google.auth.transport.Request</em></a>) – The object used to make
HTTP requests.</p></li>
<li><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The request’s HTTP method or the RPC method being
invoked.</p></li>
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The request’s URI or the RPC service’s URI.</p></li>
<li><p><strong>headers</strong> (<em>Mapping</em>) – The request’s headers.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.default_scopes">
<em class="property">property </em><code class="sig-name descname">default_scopes</code><a class="headerlink" href="#google.oauth2.service_account.Credentials.default_scopes" title="Permalink to this definition">¶</a></dt>
<dd><p>the credentials’ current set of default scopes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Sequence" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Sequence</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.expired">
<em class="property">property </em><code class="sig-name descname">expired</code><a class="headerlink" href="#google.oauth2.service_account.Credentials.expired" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the credentials are expired.</p>
<p>Note that credentials can be invalid but not expired because
Credentials with <code class="xref py py-attr docutils literal notranslate"><span class="pre">expiry</span></code> set to None is considered to never
expire.</p>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.has_scopes">
<code class="sig-name descname">has_scopes</code><span class="sig-paren">(</span><em class="sig-param">scopes</em><span class="sig-paren">)</span><a class="headerlink" href="#google.oauth2.service_account.Credentials.has_scopes" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the credentials have the given scopes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>scopes</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Sequence" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Sequence</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]) – The list of scopes to check.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the credentials have the given scopes.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.quota_project_id">
<em class="property">property </em><code class="sig-name descname">quota_project_id</code><a class="headerlink" href="#google.oauth2.service_account.Credentials.quota_project_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Project to use for quota and billing purposes.</p>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.scopes">
<em class="property">property </em><code class="sig-name descname">scopes</code><a class="headerlink" href="#google.oauth2.service_account.Credentials.scopes" title="Permalink to this definition">¶</a></dt>
<dd><p>the credentials’ current set of scopes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Sequence" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Sequence</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.Credentials.valid">
<em class="property">property </em><code class="sig-name descname">valid</code><a class="headerlink" href="#google.oauth2.service_account.Credentials.valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the validity of the credentials.</p>
<p>This is True if the credentials have a <code class="xref py py-attr docutils literal notranslate"><span class="pre">token</span></code> and the token
is not <a class="reference internal" href="#google.oauth2.service_account.Credentials.expired" title="google.oauth2.service_account.Credentials.expired"><code class="xref py py-attr docutils literal notranslate"><span class="pre">expired</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.oauth2.service_account.IDTokenCredentials">
<em class="property">class </em><code class="sig-name descname">IDTokenCredentials</code><span class="sig-paren">(</span><em class="sig-param">signer</em>, <em class="sig-param">service_account_email</em>, <em class="sig-param">token_uri</em>, <em class="sig-param">target_audience</em>, <em class="sig-param">additional_claims=None</em>, <em class="sig-param">quota_project_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#IDTokenCredentials"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="google.auth.credentials.html#google.auth.credentials.Signing" title="google.auth.credentials.Signing"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.auth.credentials.Signing</span></code></a>, <a class="reference internal" href="google.auth.credentials.html#google.auth.credentials.CredentialsWithQuotaProject" title="google.auth.credentials.CredentialsWithQuotaProject"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.auth.credentials.CredentialsWithQuotaProject</span></code></a></p>
<p>Open ID Connect ID Token-based service account credentials.</p>
<p>These credentials are largely similar to <a class="reference internal" href="#google.oauth2.service_account.Credentials" title="google.oauth2.service_account.Credentials"><code class="xref py py-class docutils literal notranslate"><span class="pre">Credentials</span></code></a>, but instead
of using an OAuth 2.0 Access Token as the bearer token, they use an Open
ID Connect ID Token as the bearer token. These credentials are useful when
communicating to services that require ID Tokens and can not accept access
tokens.</p>
<p>Usually, you’ll create these credentials with one of the helper
constructors. To create credentials using a Google service account
private key JSON file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">credentials</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">service_account</span><span class="o">.</span><span class="n">IDTokenCredentials</span><span class="o">.</span><span class="n">from_service_account_file</span><span class="p">(</span>
        <span class="s1">&#39;service-account.json&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>Or if you already have the service account file loaded:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">service_account_info</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;service_account.json&#39;</span><span class="p">))</span>
<span class="n">credentials</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">service_account</span><span class="o">.</span><span class="n">IDTokenCredentials</span><span class="o">.</span><span class="n">from_service_account_info</span><span class="p">(</span>
        <span class="n">service_account_info</span><span class="p">))</span>
</pre></div>
</div>
<p>Both helper methods pass on arguments to the constructor, so you can
specify additional scopes and a subject if necessary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">credentials</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">service_account</span><span class="o">.</span><span class="n">IDTokenCredentials</span><span class="o">.</span><span class="n">from_service_account_file</span><span class="p">(</span>
        <span class="s1">&#39;service-account.json&#39;</span><span class="p">,</span>
        <span class="n">scopes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">],</span>
        <span class="n">subject</span><span class="o">=</span><span class="s1">&#39;user@example.com&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>The credentials are considered immutable. If you want to modify the scopes
or the subject used for delegation, use <code class="xref py py-meth docutils literal notranslate"><span class="pre">with_scopes()</span></code> or
<code class="xref py py-meth docutils literal notranslate"><span class="pre">with_subject()</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scoped_credentials</span> <span class="o">=</span> <span class="n">credentials</span><span class="o">.</span><span class="n">with_scopes</span><span class="p">([</span><span class="s1">&#39;email&#39;</span><span class="p">])</span>
<span class="n">delegated_credentials</span> <span class="o">=</span> <span class="n">credentials</span><span class="o">.</span><span class="n">with_subject</span><span class="p">(</span><span class="n">subject</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signer</strong> (<a class="reference internal" href="google.auth.crypt.html#google.auth.crypt.Signer" title="google.auth.crypt.Signer"><em>google.auth.crypt.Signer</em></a>) – The signer used to sign JWTs.</p></li>
<li><p><strong>service_account_email</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The service account’s email.</p></li>
<li><p><strong>token_uri</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The OAuth 2.0 Token URI.</p></li>
<li><p><strong>target_audience</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The intended audience for these credentials,
used when requesting the ID Token. The ID Token’s <code class="docutils literal notranslate"><span class="pre">aud</span></code> claim
will be set to this string.</p></li>
<li><p><strong>additional_claims</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Mapping" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Mapping</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]) – <a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Any" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Any</span></code></a> additional claims for
the JWT assertion used in the authorization grant.</p></li>
<li><p><strong>quota_project_id</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Optional" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]) – The project ID used for quota and billing.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Typically one of the helper constructors
<a class="reference internal" href="#google.oauth2.service_account.IDTokenCredentials.from_service_account_file" title="google.oauth2.service_account.IDTokenCredentials.from_service_account_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_service_account_file()</span></code></a> or
<a class="reference internal" href="#google.oauth2.service_account.IDTokenCredentials.from_service_account_info" title="google.oauth2.service_account.IDTokenCredentials.from_service_account_info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_service_account_info()</span></code></a> are used instead of calling the
constructor directly.</p>
</div>
<dl class="method">
<dt id="google.oauth2.service_account.IDTokenCredentials.from_service_account_info">
<em class="property">classmethod </em><code class="sig-name descname">from_service_account_info</code><span class="sig-paren">(</span><em class="sig-param">info</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#IDTokenCredentials.from_service_account_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials.from_service_account_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a credentials instance from parsed service account info.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>info</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Mapping" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Mapping</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]) – The service account info in Google
format.</p></li>
<li><p><strong>kwargs</strong> – Additional arguments to pass to the constructor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>The constructed</dt><dd><p>credentials.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>google.auth.service_account.IDTokenCredentials</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/exceptions.html#ValueError" title="(in Python v3.5)"><strong>ValueError</strong></a> – If the info is not in the expected format.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.IDTokenCredentials.from_service_account_file">
<em class="property">classmethod </em><code class="sig-name descname">from_service_account_file</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#IDTokenCredentials.from_service_account_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials.from_service_account_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a credentials instance from a service account json file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The path to the service account json file.</p></li>
<li><p><strong>kwargs</strong> – Additional arguments to pass to the constructor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>The constructed</dt><dd><p>credentials.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>google.auth.service_account.IDTokenCredentials</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.IDTokenCredentials.with_target_audience">
<code class="sig-name descname">with_target_audience</code><span class="sig-paren">(</span><em class="sig-param">target_audience</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#IDTokenCredentials.with_target_audience"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials.with_target_audience" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a copy of these credentials with the specified target
audience.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_audience</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The intended audience for these credentials,</p></li>
<li><p><strong>when requesting the ID Token.</strong> (<em>used</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A new credentials</dt><dd><p>instance.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>google.auth.service_account.IDTokenCredentials</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.IDTokenCredentials.with_quota_project">
<code class="sig-name descname">with_quota_project</code><span class="sig-paren">(</span><em class="sig-param">quota_project_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#IDTokenCredentials.with_quota_project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials.with_quota_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of these credentials with a modified quota project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>quota_project_id</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The project to use for quota and
billing purposes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new credentials instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="google.oauth2.credentials.html#google.oauth2.credentials.Credentials" title="google.oauth2.credentials.Credentials">google.oauth2.credentials.Credentials</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.IDTokenCredentials.refresh">
<code class="sig-name descname">refresh</code><span class="sig-paren">(</span><em class="sig-param">request</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#IDTokenCredentials.refresh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Refreshes the access token.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>request</strong> (<a class="reference internal" href="google.auth.transport.html#google.auth.transport.Request" title="google.auth.transport.Request"><em>google.auth.transport.Request</em></a>) – The object used to make
HTTP requests.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="google.auth.exceptions.html#google.auth.exceptions.RefreshError" title="google.auth.exceptions.RefreshError"><strong>google.auth.exceptions.RefreshError</strong></a> – If the credentials could
    not be refreshed.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.IDTokenCredentials.service_account_email">
<em class="property">property </em><code class="sig-name descname">service_account_email</code><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials.service_account_email" title="Permalink to this definition">¶</a></dt>
<dd><p>The service account email.</p>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.IDTokenCredentials.sign_bytes">
<code class="sig-name descname">sign_bytes</code><span class="sig-paren">(</span><em class="sig-param">message</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/google/oauth2/service_account.html#IDTokenCredentials.sign_bytes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials.sign_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Signs the given message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bytes" title="(in Python v3.5)"><em>bytes</em></a>) – The message to sign.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The message’s cryptographic signature.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bytes" title="(in Python v3.5)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.IDTokenCredentials.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param">headers</em>, <em class="sig-param">token=None</em><span class="sig-paren">)</span><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the token to the authentication header.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>headers</strong> (<em>Mapping</em>) – The HTTP request headers.</p></li>
<li><p><strong>token</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Optional" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]) – If specified, overrides the current access
token.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.IDTokenCredentials.before_request">
<code class="sig-name descname">before_request</code><span class="sig-paren">(</span><em class="sig-param">request</em>, <em class="sig-param">method</em>, <em class="sig-param">url</em>, <em class="sig-param">headers</em><span class="sig-paren">)</span><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials.before_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs credential-specific before request logic.</p>
<p>Refreshes the credentials if necessary, then calls <a class="reference internal" href="#google.oauth2.service_account.IDTokenCredentials.apply" title="google.oauth2.service_account.IDTokenCredentials.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> to
apply the token to the authentication header.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>request</strong> (<a class="reference internal" href="google.auth.transport.html#google.auth.transport.Request" title="google.auth.transport.Request"><em>google.auth.transport.Request</em></a>) – The object used to make
HTTP requests.</p></li>
<li><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The request’s HTTP method or the RPC method being
invoked.</p></li>
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The request’s URI or the RPC service’s URI.</p></li>
<li><p><strong>headers</strong> (<em>Mapping</em>) – The request’s headers.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.IDTokenCredentials.expired">
<em class="property">property </em><code class="sig-name descname">expired</code><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials.expired" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the credentials are expired.</p>
<p>Note that credentials can be invalid but not expired because
Credentials with <code class="xref py py-attr docutils literal notranslate"><span class="pre">expiry</span></code> set to None is considered to never
expire.</p>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.IDTokenCredentials.quota_project_id">
<em class="property">property </em><code class="sig-name descname">quota_project_id</code><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials.quota_project_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Project to use for quota and billing purposes.</p>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.IDTokenCredentials.signer">
<em class="property">property </em><code class="sig-name descname">signer</code><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials.signer" title="Permalink to this definition">¶</a></dt>
<dd><p>The signer used to sign bytes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="google.auth.crypt.html#google.auth.crypt.Signer" title="google.auth.crypt.Signer">google.auth.crypt.Signer</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.IDTokenCredentials.valid">
<em class="property">property </em><code class="sig-name descname">valid</code><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials.valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the validity of the credentials.</p>
<p>This is True if the credentials have a <code class="xref py py-attr docutils literal notranslate"><span class="pre">token</span></code> and the token
is not <a class="reference internal" href="#google.oauth2.service_account.IDTokenCredentials.expired" title="google.oauth2.service_account.IDTokenCredentials.expired"><code class="xref py py-attr docutils literal notranslate"><span class="pre">expired</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="google.oauth2.service_account.IDTokenCredentials.signer_email">
<em class="property">property </em><code class="sig-name descname">signer_email</code><a class="headerlink" href="#google.oauth2.service_account.IDTokenCredentials.signer_email" title="Permalink to this definition">¶</a></dt>
<dd><p>An email address that identifies the signer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/typing.html#typing.Optional" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Optional</span></code></a> [ <a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> ]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">google-auth</a></h1>



<p class="blurb">Google Auth Library for Python</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=GoogleCloudPlatform&repo=google-auth-library-python&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





    

<p>
<a class="badge" href="https://travis-ci.org/GoogleCloudPlatform/google-auth-library-python">
    <img
        alt="https://secure.travis-ci.org/GoogleCloudPlatform/google-auth-library-python.svg?branch=master"
        src="https://secure.travis-ci.org/GoogleCloudPlatform/google-auth-library-python.svg?branch=master"
    />
</a>
</p>


<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user-guide.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="google.html">google package</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="modules.html">google</a><ul>
  <li><a href="google.html">google package</a><ul>
  <li><a href="google.oauth2.html">google.oauth2 package</a><ul>
      <li>Previous: <a href="google.oauth2.id_token.html" title="previous chapter">google.oauth2.id_token module</a></li>
      <li>Next: <a href="google.oauth2._service_account_async.html" title="next chapter">google.oauth2.service_account_async module</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Google, Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/reference/google.oauth2.service_account.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/GoogleCloudPlatform/google-auth-library-python" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>